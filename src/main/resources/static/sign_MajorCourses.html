<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전공 이수 완료 과목 입력</title>
</head>
<body>
<h1>전공 이수 완료 과목 입력</h1>
<form id="MajorCoursesForm">
    <label for="majors">전공 과목 중 이수한 과목:</label>
    <input type="text" id="majors" name="majors" required><br>

    <button type="submit">제출</button>
</form>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const userId = urlParams.get('id');

    document.getElementById('MajorCoursesForm').onsubmit = async function(event) {
        event.preventDefault();
        const formData = new FormData(event.target);
        formData.append("id", userId); // ID 추가

        // 전공 과목 API 호출
        const responseMajorCourses = await fetch('/api/users/sign_MajorCourses', {
            method: 'POST',
            body: formData
        });

        const messageMajorCourses = await responseMajorCourses.text();
        alert(messageMajorCourses);

        // 다음 단계로 이동
        window.location.href = "sign_elective.html?id=" + encodeURIComponent(userId);
    };
</script>
</body>
</html>
